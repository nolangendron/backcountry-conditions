{"ast":null,"code":"import _slicedToArray from \"/Users/nolan/Documents/2019 - Projects/snow-data/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nolan/Documents/2019 - Projects/snow-data/src/components/Main.js\";\nimport React from 'react';\nimport styled from \"@emotion/styled\";\nimport size from \"../styles/size\";\nimport colors from '../styles/colors';\nimport { StationDetails } from '../components/StationDetails';\nconst Container = styled(\"main\")`\n    flex: 1;\n    grid-area: main;\n    padding: ${size.spacing};\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n    background-color: ${colors.main};\n`;\nconst Dasboard = styled(\"div\")`\n  --column-count: 2;\n  display: grid;\n  grid-template-columns: repeat(var(--column-count), 1fr);\n  grid-gap: ${size.spacing};\n`;\nconst Item = styled(\"div\")`\n   flex: 1 1 50%;\n    grid-column-end: span 2;\n    padding: calc(var(${size.spacing}) / 2);\n`;\nconst Card = styled(\"div\")`\n  height: 100%;\n  padding: 1rem;\n  font-size: 2rem;\n  font-weight: 300;\n  background-color: ${colors.card};\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n`;\nconst ItemFull = styled(\"div\")`\nflex-basis: 100%;\ngrid-column: 1 / -1;\n`;\nconst Col = styled(\"div\")`\n  --column-count: 2;\n  flex-basis: calc(100% / var(--column-count));\n  grid-column-end: span 1;\n`;\n\nconst _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      coqSummitStationData = _useState2[0],\n      setCoqSummitStationData = _useState2[1];\n\nconst _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      littleBearStationData = _useState4[0],\n      setLittleBearStationData = _useState4[1];\n\nconst _useState5 = useState({\n  coqSummit: null,\n  littleBear: null\n}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newSnow = _useState6[0],\n      setNewSnow = _useState6[1];\n\nuseEffect(() => {\n  const getWeather = async station => {\n    const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setCoqSummitStationData(data);\n  };\n\n  getWeather(15);\n}, []);\nuseEffect(() => {\n  const getWeather = async station => {\n    const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setLittleBearStationData(data);\n  };\n\n  getWeather(17);\n}, []);\nuseEffect(() => {\n  const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n  const newSnowCoqSum = lastDaySnowCoqSum.map(day => {\n    return day.snowHeight;\n  });\n  const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n  const newSnowLitBear = lastDaySnowLitBea.map(day => {\n    return day.snowHeight;\n  });\n\n  const calNewSnowLastDay = data => {\n    let snow = data[0];\n    let newSnowArray = [];\n    let difference;\n\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] < snow && !undefined) {\n        difference = snow - data[i];\n        newSnowArray.push(difference);\n      }\n\n      snow = data[i];\n    }\n\n    return newSnowArray;\n  };\n\n  const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n  const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear);\n  const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n  const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n  setNewSnow({\n    coqSummit: sumNewSnowCoq,\n    littleBear: sumNewSnowLitBea\n  });\n}, [coqSummitStationData, littleBearStationData]);\nconst coqSummitName = \"Coquihalla Summit\";\nconst coqSummitElevation = \"Elevation: 1230 m\";\nconst coqSummitStation = coqSummitStationData && coqSummitStationData[1];\nconst coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\nconst coqSummitNewSnow = newSnow && newSnow.coqSummit;\nconst coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\nconst littleBearName = \"Little Bear\";\nconst littleBearElevation = \"Elevation: 1660 m\";\nconst littleBearStation = littleBearStationData && littleBearStationData[1];\nconst littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\nconst littleBearNewSnow = newSnow && newSnow.littleBear;\nconst littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\nexport const Main = () => {\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Dasboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(StationDetails, {\n    name: coqSummitName,\n    elevation: coqSummitElevation,\n    temp: coqSummitTemp,\n    newSnow: coqSummitNewSnow,\n    snowDepth: coqSummitSnowDepth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), \"/>\")), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Little Bear\")), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Coq Chart\")), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Bear Chart\")), React.createElement(Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Map\")))));\n};","map":{"version":3,"sources":["/Users/nolan/Documents/2019 - Projects/snow-data/src/components/Main.js"],"names":["React","styled","size","colors","StationDetails","Container","spacing","main","Dasboard","Item","Card","card","ItemFull","Col","useState","coqSummitStationData","setCoqSummitStationData","littleBearStationData","setLittleBearStationData","coqSummit","littleBear","newSnow","setNewSnow","useEffect","getWeather","station","url","response","fetch","data","json","lastDaySnowCoqSum","slice","newSnowCoqSum","map","day","snowHeight","lastDaySnowLitBea","newSnowLitBear","calNewSnowLastDay","snow","newSnowArray","difference","i","length","undefined","push","getNewSnowCoqSum","getNewSnowLitBea","sumNewSnowCoq","reduce","a","b","sumNewSnowLitBea","coqSummitName","coqSummitElevation","coqSummitStation","coqSummitTemp","airTempAvg","coqSummitNewSnow","coqSummitSnowDepth","littleBearName","littleBearElevation","littleBearStation","littleBearTemp","littleBearNewSnow","littleBearSnowDepth","Main"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from \"@emotion/styled\";\nimport size from \"../styles/size\";\nimport colors from '../styles/colors';\nimport { StationDetails } from '../components/StationDetails';\n\nconst Container = styled(\"main\")`\n    flex: 1;\n    grid-area: main;\n    padding: ${size.spacing};\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n    background-color: ${colors.main};\n`\nconst Dasboard = styled(\"div\")`\n  --column-count: 2;\n  display: grid;\n  grid-template-columns: repeat(var(--column-count), 1fr);\n  grid-gap: ${size.spacing};\n`\nconst Item = styled(\"div\")`\n   flex: 1 1 50%;\n    grid-column-end: span 2;\n    padding: calc(var(${size.spacing}) / 2);\n`\nconst Card = styled(\"div\")`\n  height: 100%;\n  padding: 1rem;\n  font-size: 2rem;\n  font-weight: 300;\n  background-color: ${colors.card};\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n`\nconst ItemFull = styled(\"div\")`\nflex-basis: 100%;\ngrid-column: 1 / -1;\n`\n\nconst Col = styled(\"div\")`\n  --column-count: 2;\n  flex-basis: calc(100% / var(--column-count));\n  grid-column-end: span 1;\n`\nconst [coqSummitStationData, setCoqSummitStationData] = useState([]);\nconst [littleBearStationData, setLittleBearStationData] = useState([]);\nconst [newSnow, setNewSnow] = useState({\n  coqSummit: null,\n  littleBear: null\n});\n\nuseEffect(() => {\n  const getWeather = async (station) => {\n\n    const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setCoqSummitStationData(data)\n  }\n  getWeather(15);\n\n}, [])\n\nuseEffect(() => {\n  const getWeather = async (station) => {\n\n    const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setLittleBearStationData(data)\n  }\n  getWeather(17);\n}, [])\n\nuseEffect(() => {\n  const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n  const newSnowCoqSum = lastDaySnowCoqSum.map((day) => {\n    return day.snowHeight;\n  })\n  const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n  const newSnowLitBear = lastDaySnowLitBea.map((day) => {\n    return day.snowHeight;\n  })\n\n  const calNewSnowLastDay = (data) => {\n    let snow = data[0];\n    let newSnowArray = [];\n    let difference;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] < snow && !undefined) {\n        difference = snow - data[i];\n        newSnowArray.push(difference);\n      }\n      snow = data[i];\n    }\n    return newSnowArray;\n  }\n  const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n  const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear)\n  const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n  const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n\n  setNewSnow({ coqSummit: sumNewSnowCoq, littleBear: sumNewSnowLitBea });\n}, [coqSummitStationData, littleBearStationData])\n\nconst coqSummitName = \"Coquihalla Summit\";\nconst coqSummitElevation = \"Elevation: 1230 m\"\nconst coqSummitStation = coqSummitStationData && coqSummitStationData[1];\nconst coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\nconst coqSummitNewSnow = newSnow && newSnow.coqSummit;\nconst coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\n\nconst littleBearName = \"Little Bear\";\nconst littleBearElevation = \"Elevation: 1660 m\"\nconst littleBearStation = littleBearStationData && littleBearStationData[1];\nconst littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\nconst littleBearNewSnow = newSnow && newSnow.littleBear;\nconst littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\n\nexport const Main = () => {\n  return (\n    <Container>\n      <Dasboard>\n        <Col>\n          <Card><StationDetails\n            name={coqSummitName}\n            elevation={coqSummitElevation}\n            temp={coqSummitTemp}\n            newSnow={coqSummitNewSnow}\n            snowDepth={coqSummitSnowDepth} />/></Card>\n        </Col>\n        <Col>\n          <Card>Little Bear</Card>\n        </Col>\n        <Col>\n          <Card>Coq Chart</Card>\n        </Col>\n        <Col>\n          <Card>Bear Chart</Card>\n        </Col>\n        <Item>\n          <Card>\n            <strong>Map</strong>\n          </Card>\n        </Item>\n      </Dasboard >\n    </Container >\n  )\n}"]},"metadata":{},"sourceType":"module"}