{"ast":null,"code":"import _slicedToArray from \"/Users/nolan/Documents/2019 - Projects/snow-data/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nolan/Documents/2019 - Projects/snow-data/src/components/CurrentWeather.js\";\nimport React, { useState, useEffect } from 'react';\nexport const CurrentWeather = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        coqSummitStationData = _useState2[0],\n        setCoqSummitStationData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        littleBearStationData = _useState4[0],\n        setLittleBearStationData = _useState4[1];\n\n  const _useState5 = useState({\n    coqSummit: null,\n    littleBear: null\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        newSnow = _useState6[0],\n        setNewSnow = _useState6[1];\n\n  useEffect(() => {\n    const getWeather = async station => {\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setCoqSummitStationData(data);\n    };\n\n    getWeather(15);\n  }, []);\n  useEffect(() => {\n    const getWeather = async station => {\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setLittleBearStationData(data);\n    };\n\n    getWeather(17);\n  }, []);\n  useEffect(() => {\n    const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n    const newSnowCoqSum = lastDaySnowCoqSum.map(day => {\n      return day.snowHeight;\n    });\n    const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n    const newSnowLitBear = lastDaySnowLitBea.map(day => {\n      return day.snowHeight;\n    });\n\n    const calNewSnowLastDay = data => {\n      let snow = data[0];\n      let newSnowArray = [];\n      let difference;\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] < snow && !undefined) {\n          difference = snow - data[i];\n          newSnowArray.push(difference);\n        }\n\n        snow = data[i];\n      }\n\n      return newSnowArray;\n    };\n\n    const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n    const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear);\n    const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n    const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n    setNewSnow({\n      coqSummit: sumNewSnowCoq,\n      littleBear: sumNewSnowLitBea\n    });\n  }, [coqSummitStationData, littleBearStationData]);\n  const coqSummitName = \"Coquihalla Summit\";\n  const coqSummitElevation = \"Elevation: 1230 m\";\n  const coqSummitStation = coqSummitStationData && coqSummitStationData[1];\n  const coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\n  const coqSummitNewSnow = newSnow && newSnow.coqSummit;\n  const coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\n  const littleBearName = \"Little Bear\";\n  const littleBearElevation = \"Elevation: 1660 m\";\n  const littleBearStation = littleBearStationData && littleBearStationData[1];\n  const littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\n  const littleBearNewSnow = newSnow && newSnow.littleBear;\n  const littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, coqSummitName), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, coqSummitElevation), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Current Temp: \", coqSummitTemp, \" \", String.fromCharCode(176), \"C\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"New Snow Past 24hr: \", coqSummitNewSnow, \" cm\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Snow Depth: \", coqSummitSnowDepth, \" cm\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, little), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Elevation: 1660 m\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Current Temp: \", littleBearTemp, \" \", String.fromCharCode(176), \"C\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"New Snow Past 24hr: \", littleBearNewSnow, \" cm\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Snow Depth: \", littleBearSnowDepth, \" cm\")));\n};","map":{"version":3,"sources":["/Users/nolan/Documents/2019 - Projects/snow-data/src/components/CurrentWeather.js"],"names":["React","useState","useEffect","CurrentWeather","coqSummitStationData","setCoqSummitStationData","littleBearStationData","setLittleBearStationData","coqSummit","littleBear","newSnow","setNewSnow","getWeather","station","url","response","fetch","data","json","lastDaySnowCoqSum","slice","newSnowCoqSum","map","day","snowHeight","lastDaySnowLitBea","newSnowLitBear","calNewSnowLastDay","snow","newSnowArray","difference","i","length","undefined","push","getNewSnowCoqSum","getNewSnowLitBea","sumNewSnowCoq","reduce","a","b","sumNewSnowLitBea","coqSummitName","coqSummitElevation","coqSummitStation","coqSummitTemp","airTempAvg","coqSummitNewSnow","coqSummitSnowDepth","littleBearName","littleBearElevation","littleBearStation","littleBearTemp","littleBearNewSnow","littleBearSnowDepth","String","fromCharCode","little"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport const CurrentWeather = () => {\n  const [coqSummitStationData, setCoqSummitStationData] = useState([]);\n  const [littleBearStationData, setLittleBearStationData] = useState([]);\n  const [newSnow, setNewSnow] = useState({\n    coqSummit: null,\n    littleBear: null\n  });\n\n  useEffect(() => {\n    const getWeather = async (station) => {\n\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setCoqSummitStationData(data)\n    }\n    getWeather(15);\n\n  }, [])\n\n  useEffect(() => {\n    const getWeather = async (station) => {\n\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setLittleBearStationData(data)\n    }\n    getWeather(17);\n  }, [])\n\n  useEffect(() => {\n    const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n    const newSnowCoqSum = lastDaySnowCoqSum.map((day) => {\n      return day.snowHeight;\n    })\n    const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n    const newSnowLitBear = lastDaySnowLitBea.map((day) => {\n      return day.snowHeight;\n    })\n\n    const calNewSnowLastDay = (data) => {\n      let snow = data[0];\n      let newSnowArray = [];\n      let difference;\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] < snow && !undefined) {\n          difference = snow - data[i];\n          newSnowArray.push(difference);\n        }\n        snow = data[i];\n      }\n      return newSnowArray;\n    }\n    const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n    const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear)\n    const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n    const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n\n    setNewSnow({ coqSummit: sumNewSnowCoq, littleBear: sumNewSnowLitBea });\n  }, [coqSummitStationData, littleBearStationData])\n\n  const coqSummitName = \"Coquihalla Summit\";\n  const coqSummitElevation = \"Elevation: 1230 m\"\n  const coqSummitStation = coqSummitStationData && coqSummitStationData[1];\n  const coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\n  const coqSummitNewSnow = newSnow && newSnow.coqSummit;\n  const coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\n\n  const littleBearName = \"Little Bear\";\n  const littleBearElevation = \"Elevation: 1660 m\"\n  const littleBearStation = littleBearStationData && littleBearStationData[1];\n  const littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\n  const littleBearNewSnow = newSnow && newSnow.littleBear;\n  const littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\n\n  return (\n    <div>\n      <div>\n        <h2>{coqSummitName}</h2>\n        <h2>{coqSummitElevation}</h2>\n        <h2>Current Temp: {coqSummitTemp} {String.fromCharCode(176)}C</h2>\n        <h2>New Snow Past 24hr: {coqSummitNewSnow} cm</h2>\n        <h2>Snow Depth: {coqSummitSnowDepth} cm</h2>\n      </div>\n      <div>\n        <h2>{little}</h2>\n        <h2>Elevation: 1660 m</h2>\n        <h2>Current Temp: {littleBearTemp} {String.fromCharCode(176)}C</h2>\n        <h2>New Snow Past 24hr: {littleBearNewSnow} cm</h2>\n        <h2>Snow Depth: {littleBearSnowDepth} cm</h2>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}